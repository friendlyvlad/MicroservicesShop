---
inherit: new-relic.yaml
domain: mybluemix.net  
applications:
- name: CatalogAPI
  memory: 256m
  instances: 1
  random-route: true 
  path: Microservices_CatalogAPI
  services:
  - myServiceDiscovery
  - myMicroservicesCloudant
  env:
    NEW_RELIC_APP_NAME: CloudCatalogAPI
- name: OrdersAPI
  random-route: true
  path: Microservices_OrdersAPI
  command: python ./app.py
  instances: 1
  memory: 256M
  services:
  - mysql-OrdersDBService
  - myServiceDiscovery
  env:
    NEW_RELIC_APP_NAME: HybridOrdersAPI
- name: MicroservicesUI
  memory: 256M
  instances: 1
  random-route: true
  path: Microservices_UI
  services:
  - myServiceDiscovery
  env:
    NEW_RELIC_APP_NAME: HybridShopUI

declared-services:
  myMicroservicesCloudant:
    label: cloudantNoSQLDB
    plan: Shared
  myServiceDiscovery:
    label: service_discovery
    plan: free
